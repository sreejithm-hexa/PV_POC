/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.4/samples
 */
buildscript {
    repositories {
        mavenCentral()
	gradlePluginPortal()
     
    }
    dependencies {
        classpath "org.liquibase:liquibase-gradle-plugin:2.1.0"
    }
}

apply plugin: 'org.liquibase.gradle'

group = 'database'
version = '0.0.1-SNAPSHOT'

repositories {
        mavenCentral()
	gradlePluginPortal()
     
    }
dependencies {
  liquibaseRuntime 'org.liquibase:liquibase-core:4.5.0'
  liquibaseRuntime 'org.liquibase:liquibase-groovy-dsl:3.0.0'
  liquibaseRuntime 'info.picocli:picocli:4.6.1'
  liquibaseRuntime 'mysql:mysql-connector-java:8.0.28'
}

Properties props = new Properties()
props.load(new FileInputStream(file('liquibase.properties')))
database = [:]
database.driver = props.getProperty('driver')
database.url = props.getProperty('url')
database.username = props.getProperty('username')
database.password = props.getProperty('password')
database.changeLogFile = props.getProperty('changeLogFile')

liquibase {
  activities {
    main {
      	  changeLogFile 'src/main/resources/db/migration/changelog.xml'
	  driver 'database.driver'
      	  url 'database.url'
	  username 'database.username'
	  password 'database.password'
    }
  }
}
